require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([4],{

/***/ 29:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var _vue = __webpack_require__(1);var _vue2 = _interopRequireDefault(_vue);
var _list = __webpack_require__(30);var _list2 = _interopRequireDefault(_list);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var uni = __webpack_require__(0).default;
var app = new _vue2.default(_list2.default);
app.$mount();

/***/ }),

/***/ 30:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_list_vue__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_list_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_list_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_7fd95412_hasScoped_false_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_list_vue__ = __webpack_require__(33);
function injectStyle (ssrContext) {
  __webpack_require__(31)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = null
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_list_vue___default.a,
  __WEBPACK_IMPORTED_MODULE_1__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_7fd95412_hasScoped_false_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_list_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["default"] = (Component.exports);


/***/ }),

/***/ 31:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 32:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });var uni = __webpack_require__(0).default;exports.default =






















{
	data: function data() {
		return {
			refreshing: false,
			loadMoreText: "加载中...",
			lists: [],
			id: 0,
			fetchPageNum: 0 };

	},
	onLoad: function onLoad(e) {var _this = this;
		uni.setNavigationBarTitle({
			title: "专题：" + e.type });

		this.id = e.id;
		setTimeout(function () {//防止app里由于渲染导致转场动画卡顿
			_this.getData();
		}, 300);
		uni.getProvider({
			service: "share",
			success: function success(e) {
				var data = [];
				for (var i = 0; i < e.provider.length; i++) {
					switch (e.provider[i]) {
						case 'weixin':
							data.push({
								name: '分享到微信好友',
								id: 'weixin' });

							data.push({
								name: '分享到微信朋友圈',
								id: 'weixin',
								type: 'WXSenceTimeline' });

							break;
						case 'qq':
							data.push({
								name: '分享到QQ',
								id: 'qq' });

							break;
						default:
							break;}

				}
				_this.providerList = data;
			},
			fail: function fail(e) {
				console.log("获取登录通道失败", e);
			} });

	},
	onPullDownRefresh: function onPullDownRefresh() {
		console.log("下拉刷新");
		this.refreshing = true;
		this.getData();
	},
	onReachBottom: function onReachBottom() {
		console.log("上拉加载刷新");
		if (this.fetchPageNum > 4) {
			this.loadMoreText = "没有更多了";
			return;
		}
		this.getData();
	},
	methods: {
		getData: function getData(e) {var _this2 = this;
			uni.request({
				url: 'https://uniapp.dcloud.io/tuku/list.php?type=' + this.id,
				success: function success(ret) {
					if (ret.statusCode !== 200) {
						console.log("请求失败", ret);
					} else {
						if (_this2.refreshing && ret.data.data[0].id === _this2.lists[0][0].id) {
							uni.showToast({
								title: "已经最新",
								icon: "none" });

							_this2.refreshing = false;
							uni.stopPullDownRefresh();
							return;
						}
						var list = [],
						lists = [],
						data = ret.data.data;
						for (var i = 0, length = data.length; i < length; i++) {
							var index = Math.floor(i / 2);
							list.push(data[i]);
							if (i % 2 == 1) {
								lists.push(list);
								list = [];
							}
						}
						console.log("list页面得到lists", lists);
						if (_this2.refreshing) {
							_this2.refreshing = false;
							uni.stopPullDownRefresh();
							_this2.lists = lists;
							_this2.fetchPageNum = 2;
						} else {
							_this2.lists = _this2.lists.concat(lists);
							_this2.fetchPageNum += 1;
						}
						_this2.fetchPageNum += 1;
					}
				} });

		},
		goDetail: function goDetail(e) {
			uni.navigateTo({
				url: "../detail/detail?data=" + JSON.stringify(e) });

		},
		share: function share(e) {var _this3 = this;
			if (this.providerList.length === 0) {
				uni.showModal({
					title: "当前环境无分享渠道!",
					showCancel: false });

				return;
			}
			var itemList = this.providerList.map(function (value) {
				return value.name;
			});
			uni.showActionSheet({
				itemList: itemList,
				success: function success(res) {
					uni.share({
						provider: _this3.providerList[res.tapIndex].id,
						scene: _this3.providerList[res.tapIndex].type && _this3.providerList[res.tapIndex].type === 'WXSenceTimeline' ?
						'WXSenceTimeline' : "WXSceneSession",
						type: 0,
						title: "uni-app模版",
						summary: e.title,
						imageUrl: e.img_src,
						href: "https://uniapp.dcloud.io",
						success: function success(res) {
							console.log("success:" + JSON.stringify(res));
						},
						fail: function fail(e) {
							uni.showModal({
								content: e.errMsg,
								showCancel: false });

						} });

				} });

		} } };

/***/ }),

/***/ 33:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('view', {
    staticClass: "index"
  }, [_vm._l((_vm.lists), function(list, index) {
    return _c('block', {
      key: index
    }, [_c('div', {
      staticClass: "row"
    }, _vm._l((list), function(item, key) {
      return _c('div', {
        key: key,
        staticClass: "card card-list2",
        attrs: {
          "eventid": '1-' + index + '-' + key
        },
        on: {
          "click": function($event) {
            _vm.goDetail(item)
          }
        }
      }, [_c('image', {
        staticClass: "card-img card-list2-img",
        attrs: {
          "src": item.img_src
        }
      }), _vm._v(" "), _c('div', {
        staticClass: "card-num-view card-list2-num-view"
      }, [_c('text', {
        staticClass: "card-num card-list2-num"
      }, [_vm._v(_vm._s(item.img_num) + "P")])]), _vm._v(" "), _c('div', {
        staticClass: "card-bottm row"
      }, [_c('div', {
        staticClass: "car-title-view row"
      }, [_c('text', {
        staticClass: "card-title card-list2-title"
      }, [_vm._v(_vm._s(item.title))])]), _vm._v(" "), _c('view', {
        staticClass: "card-share-view",
        attrs: {
          "eventid": '0-' + index + '-' + key
        },
        on: {
          "click": function($event) {
            $event.stopPropagation();
            _vm.share(item)
          }
        }
      })])])
    }))])
  }), _vm._v(" "), _c('text', {
    staticClass: "loadMore"
  }, [_vm._v(_vm._s(_vm.loadMoreText))])], 2)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ })

},[29]);