require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([6],{

/***/ 19:
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var _vue = __webpack_require__(1);var _vue2 = _interopRequireDefault(_vue);
var _detail = __webpack_require__(20);var _detail2 = _interopRequireDefault(_detail);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var uni = __webpack_require__(0).default;
var app = new _vue2.default(_detail2.default);
app.$mount();

/***/ }),

/***/ 20:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_detail_vue__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_detail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_detail_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_611976f2_hasScoped_false_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_detail_vue__ = __webpack_require__(23);
function injectStyle (ssrContext) {
  __webpack_require__(21)
}
var normalizeComponent = __webpack_require__(2)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = null
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_uni_loader_js_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_detail_vue___default.a,
  __WEBPACK_IMPORTED_MODULE_1__360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_611976f2_hasScoped_false_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_APP_PLUS_true_360_HBuilderX_0_1_50_20180918_alpha_full_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_detail_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)

/* harmony default export */ __webpack_exports__["default"] = (Component.exports);


/***/ }),

/***/ 21:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 22:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });var uni = __webpack_require__(0).default;exports.default =

















{
	data: function data() {
		return {
			imgShow: false,
			index: 0,
			showBtn: false,
			screenHeight: 0,
			imgLength: 0,
			providerList: [],
			data: [],
			detailDec: "" };

	},
	onLoad: function onLoad(e) {var _this = this;

		if (plus.os.name === 'Android') {
			this.showBtn = true;
		}

		this.screenHeight = uni.getSystemInfoSync().windowHeight;
		console.log(e.data);
		this.detailDec = e.data;
		var data = JSON.parse(e.data);
		this.imgLength = data.img_num;
		this.data.push(data.img_src);
		this.getData(data.id);
		uni.setNavigationBarTitle({
			title: "1/" + this.imgLength });

		// 获取分享通道
		uni.getProvider({
			service: "share",
			success: function success(e) {
				var data = [];
				for (var i = 0; i < e.provider.length; i++) {
					switch (e.provider[i]) {
						case 'weixin':
							data.push({
								name: '分享到微信好友',
								id: 'weixin' });

							data.push({
								name: '分享到微信朋友圈',
								id: 'weixin',
								type: 'WXSenceTimeline' });

							break;
						case 'qq':
							data.push({
								name: '分享到QQ',
								id: 'qq' });

							break;
						default:
							break;}

				}
				_this.providerList = data;
			},
			fail: function fail(e) {
				console.log("获取登录通道失败", e);
			} });

	},
	onShareAppMessage: function onShareAppMessage() {
		return {
			title: "欢迎使用uni-app看图模板",
			path: '/pages/detail/detail?data=' + this.detailDec,
			imageUrl: this.data[this.index] };

	},
	onNavigationBarButtonTap: function onNavigationBarButtonTap(e) {var _this2 = this;
		if (this.providerList.length === 0) {
			uni.showModal({
				title: "当前环境无分享渠道!",
				showCancel: false });

			return;
		}
		var itemList = this.providerList.map(function (value) {
			return value.name;
		});
		uni.showActionSheet({
			itemList: itemList,
			success: function success(res) {
				uni.share({
					provider: _this2.providerList[res.tapIndex].id,
					scene: _this2.providerList[res.tapIndex].type && _this2.providerList[res.tapIndex].type === 'WXSenceTimeline' ?
					'WXSenceTimeline' : "WXSceneSession",
					type: 0,
					title: "uni-app模版",
					summary: "欢迎使用uni-app模版",
					imageUrl: _this2.data[_this2.index],
					href: "https://uniapp.dcloud.io",
					success: function success(res) {
						console.log("success:" + JSON.stringify(res));
					},
					fail: function fail(e) {
						uni.showModal({
							content: e.errMsg,
							showCancel: false });

					} });

			} });

	},
	methods: {
		download: function download() {
			uni.downloadFile({
				url: this.data[this.index],
				success: function success(e) {
					console.log(e);
					uni.saveImageToPhotosAlbum({
						filePath: e.tempFilePath,
						success: function success() {
							uni.showToast({
								icon: "none",
								title: "已保存到手机相册" });

						},
						fail: function fail() {
							uni.showToast({
								icon: "none",
								title: "保存到手机相册失败" });

						} });

				},
				fail: function fail(e) {
					uni.showModal({
						content: "下载失败，" + e.errMsg,
						showCancel: false });

				} });

		},
		collect: function collect() {
			uni.showToast({
				icon: "none",
				title: "点击收藏按钮" });

		},

		setting: function setting() {var _this3 = this;
			uni.showToast({
				icon: "none",
				title: "正在设为壁纸" });

			setTimeout(function () {
				var WallpaperManager = plus.android.importClass("android.app.WallpaperManager");
				var Main = plus.android.runtimeMainActivity();
				var wallpaperManager = WallpaperManager.getInstance(Main);
				plus.android.importClass(wallpaperManager);
				var BitmapFactory = plus.android.importClass("android.graphics.BitmapFactory");
				uni.downloadFile({
					url: _this3.data[_this3.index],
					success: function success(e) {
						var filePath = e.tempFilePath.replace("file://", "");
						var bitmap = BitmapFactory.decodeFile(filePath);
						try {
							wallpaperManager.setBitmap(bitmap);
							uni.showToast({
								icon: "none",
								title: "壁纸设置成功" });

						} catch (e) {
							uni.showToast({
								icon: "none",
								title: "壁纸设置失败" });

						}
					},
					fail: function fail() {
						uni.showToast({
							icon: "none",
							title: "壁纸设置失败" });

					} });

			}, 100);
		},

		swpierChange: function swpierChange(e) {
			this.index = e.detail.current;
			uni.setNavigationBarTitle({
				title: e.detail.current + 1 + "/" + this.imgLength });

		},
		preImg: function preImg(index) {var _this4 = this;
			if (this.imgShow) {//防止点击过快导致重复调用 
				return;
			}
			this.imgShow = true;
			setTimeout(function () {
				_this4.imgShow = false;
			}, 1000);
			setTimeout(function () {
				uni.previewImage({
					current: _this4.data[index],
					urls: _this4.data });

			}, 150);
		},
		getData: function getData(e) {var _this5 = this;
			uni.request({
				url: "https://uniapp.dcloud.io/tuku/detail.php?id=" + e,
				success: function success(res) {
					if (res.data.code !== 0) {
						uni.showModal({
							content: "请求失败，失败原因：" + res.data.msg,
							showCancel: false });

						return;
					}

					_this5.data = _this5.data.concat(res.data.data);
				},
				fail: function fail() {
					uni.showModal({
						content: "请求失败，请重试!",
						showCancel: false });

				} });

		} } };

/***/ }),

/***/ 23:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('view', {
    staticClass: "index"
  }, [_c('swiper', {
    style: ({
      height: _vm.screenHeight + 'px'
    }),
    attrs: {
      "eventid": '1'
    },
    on: {
      "change": _vm.swpierChange
    }
  }, _vm._l((_vm.data), function(value, index) {
    return _c('swiper-item', {
      key: index,
      attrs: {
        "eventid": '0-' + index,
        "mpcomid": '0-' + index
      },
      on: {
        "click": function($event) {
          _vm.preImg(index)
        }
      }
    }, [_c('image', {
      attrs: {
        "src": value,
        "mode": "widthFix"
      }
    })])
  })), _vm._v(" "), _c('view', {
    staticClass: "detail-btn-view"
  }, [_c('view', {
    staticClass: "download",
    attrs: {
      "eventid": '2'
    },
    on: {
      "click": _vm.download
    }
  }), _vm._v(" "), (_vm.showBtn) ? _c('view', {
    staticClass: "setting",
    attrs: {
      "eventid": '3'
    },
    on: {
      "click": _vm.setting
    }
  }, [_vm._v("设为壁纸")]) : _vm._e(), _vm._v(" "), _c('view', {
    staticClass: "collect",
    attrs: {
      "eventid": '4'
    },
    on: {
      "click": _vm.collect
    }
  })])], 1)
}
var staticRenderFns = []
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);

/***/ })

},[19]);